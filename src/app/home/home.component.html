<div *ngIf="response">
  <h2 class="mat-display-2">Willkommen zum Shop!</h2>
  <!-- {{ shoppingProfile | json }} -->
  <!-- FORMULAR -->

  <mat-form-field appearance="outline">
    <mat-label>Kategorie</mat-label>
    <mat-select
      (change)="resetSubCategory()"
      [(ngModel)]="shoppingProfile.category"
      name="category"
    >
      <mat-option value="-1">Bitte Bereich wählen</mat-option>
      <mat-option
        *ngFor="let category of categories; index as i"
        value="{{ i }}"
      >
        {{ category.name }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field
    *ngIf="shoppingProfile.category === '0'"
    appearance="outline"
  >
    <mat-label>Unter-Kategorie</mat-label>
    <mat-select
      [(ngModel)]="shoppingProfile.subCategory"
      name="subCategory"
    >
      <mat-option value="-1" selected>Bitte wählen</mat-option>
      <mat-option
        *ngFor="
          let subCategory of categories[shoppingProfile.category]
            .subCategories;
          index as i
        "
        value="{{ i }}"
      >
        {{ subCategory }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field
    *ngIf="shoppingProfile.category === '1'"
    appearance="outline"
  >
    <mat-label>Unter-Kategorie</mat-label>
    <mat-select
      [(ngModel)]="shoppingProfile.subCategory"
      name="subCategory"
    >
      <mat-option value="-1" selected>Bitte wählen</mat-option>
      <mat-option
        *ngFor="
          let subCategory of categories[shoppingProfile.category]
            .subCategories;
          index as i
        "
        value="{{ i }}"
      >
        {{ subCategory }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <!-- SPIELE -->
  <div
    *ngIf="
      shoppingProfile.category === '0' &&
      shoppingProfile.subCategory === '0'
    "
  >
    <h2>Spiele</h2>
    <table>
      <tr>
        <th>Titel</th>
        <th>Preis</th>
        <th></th>
      </tr>
      <tr *ngFor="let game of games; index as i">
        <td>{{ game.titel }}</td>
        <td>{{ game.preis }} €</td>
        <td>
          <button
            mat-raised-button
            class="btnAddToCart"
            (click)="
              add(shoppingProfile.category, shoppingProfile.subCategory, i)
            "
          >
            Hinzufügen ➕
          </button>
        </td>
      </tr>
    </table>
  </div>

  <!-- BÜCHER -->
  <div
    *ngIf="
      shoppingProfile.category === '0' &&
      shoppingProfile.subCategory === '1'
    "
  >
    <h2>Bücher</h2>
    <table>
      <tr>
        <th>Author</th>
        <th>Titel</th>
        <th>Preis</th>
        <th></th>
      </tr>
      <tr *ngFor="let book of books; index as i">
        <td>{{ book.author }}</td>
        <td>{{ book.titel }}</td>
        <td>{{ book.preis }} €</td>
        <td>
          <button
            mat-raised-button
            class="btnAddToCart"
            (click)="
              add(shoppingProfile.category, shoppingProfile.subCategory, i)
            "
          >
            Hinzufügen ➕
          </button>
        </td>
      </tr>
    </table>
  </div>

  <!-- AUDIO-BOOKS -->
  <div
    *ngIf="
      shoppingProfile.category === '0' &&
      shoppingProfile.subCategory === '2'
    "
  >
    <h2>Audio-Books</h2>
    <table>
      <tr>
        <th>Author</th>
        <th>Titel</th>
        <th>Preis</th>
        <th></th>
      </tr>
      <tr *ngFor="let audioBook of audioBooks; index as i">
        <td>{{ audioBook.author }}</td>
        <td>{{ audioBook.titel }}</td>
        <td>{{ audioBook.preis }} €</td>
        <td>
          <button
            mat-raised-button
            class="btnAddToCart"
            (click)="
              add(shoppingProfile.category, shoppingProfile.subCategory, i)
            "
          >
            Hinzufügen ➕
          </button>
        </td>
      </tr>
    </table>
  </div>

  <!-- SCHUHE -->
  <div
    *ngIf="
      shoppingProfile.category === '1' &&
      shoppingProfile.subCategory === '0'
    "
  >
    <h2>Schuhe</h2>
    <table>
      <tr>
        <th>Name</th>
        <th>Preis</th>
        <th></th>
      </tr>
      <tr *ngFor="let shoe of shoes; index as i">
        <td>{{ shoe.titel }}</td>
        <td>{{ shoe.preis }} €</td>
        <td>
          <button
            mat-raised-button
            class="btnAddToCart"
            (click)="
              add(shoppingProfile.category, shoppingProfile.subCategory, i)
            "
          >
            Hinzufügen ➕
          </button>
        </td>
      </tr>
    </table>
  </div>

  <!-- GERÄTE -->
  <div
    *ngIf="
      shoppingProfile.category === '1' &&
      shoppingProfile.subCategory === '1'
    "
  >
    <h2>Geräte</h2>
    <table>
      <tr>
        <th>Name</th>
        <th>Beschreibung</th>
        <th>Preis</th>
        <th></th>
      </tr>
      <tr *ngFor="let thing of things; index as i">
        <td>{{ thing.titel }}</td>
        <td>{{ thing.beschreibung }}</td>
        <td>{{ thing.preis }} €</td>
        <td>
          <button
            mat-raised-button
            class="btnAddToCart"
            (click)="
              add(shoppingProfile.category, shoppingProfile.subCategory, i)
            "
          >
            Hinzufügen ➕
          </button>
        </td>
      </tr>
    </table>
  </div>
</div>
